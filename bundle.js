!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=8)}([
/*!*****************************!*\
  !*** ./src/modules/gyro.js ***!
  \*****************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){var e={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},t={x:0,y:0,z:0,alpha:0,beta:0,gamma:0,rawAlpha:0,rawBeta:0,rawGamma:0},n=null,i=[],r={};function a(e){var t=Math.PI/180,n=e.beta*t,i=e.gamma*t,r=e.alpha*t,a=Math.cos(n/2),o=Math.cos(i/2),s=Math.cos(r/2),c=Math.sin(n/2),u=Math.sin(i/2),l=Math.sin(r/2),h=a*o*s-c*u*l;return{x:n=c*o*s-a*u*l,y:i=a*u*s+c*o*l,z:r=a*o*l+c*u*s,w:h}}function o(e,t){return{w:e.w*t.w-e.x*t.x-e.y*t.y-e.z*t.z,x:e.w*t.x+e.x*t.w+e.y*t.z-e.z*t.y,y:e.w*t.y-e.x*t.z+e.y*t.w+e.z*t.x,z:e.w*t.z+e.x*t.y-e.y*t.x+e.z*t.w}}function s(e,t){return e=o(t,{x:e.x,y:e.y,z:e.z,w:0}),{x:(e=o(e,{w:t.w,x:-t.x,y:-t.y,z:-t.z})).x,y:e.y,z:e.z}}function c(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}return r.frequency=500,r.calibrate=function(){for(var n in e)t[n]="number"==typeof e[n]?e[n]:0},r.getOrientation=function(){return e},r.startTracking=function(t){n=setInterval(function(){t(e)},r.frequency)},r.stopTracking=function(){clearInterval(n)},r.hasFeature=function(e){for(var t in i)if(e==i[t])return!0;return!1},r.getFeatures=function(){return i},r.eulerToQuaternion=a,window&&window.addEventListener&&(window.addEventListener("MozOrientation",function n(r){i.push("MozOrientation"),r.target.removeEventListener("MozOrientation",n,!0),r.target.addEventListener("MozOrientation",function(n){e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z},!0)},!0),window.addEventListener("devicemotion",function n(r){i.push("devicemotion"),r.target.removeEventListener("devicemotion",n,!0),r.target.addEventListener("devicemotion",function(n){e.x=n.accelerationIncludingGravity.x-t.x,e.y=n.accelerationIncludingGravity.y-t.y,e.z=n.accelerationIncludingGravity.z-t.z},!0)},!0),window.addEventListener("deviceorientation",function n(r){i.push("deviceorientation"),r.target.removeEventListener("deviceorientation",n,!0),r.target.addEventListener("deviceorientation",function(n){var i=a({alpha:t.rawAlpha,beta:t.rawBeta,gamma:t.rawGamma});i.x*=-1,i.y*=-1,i.z*=-1;var r,u,l,h,f,p,d,y,v,m=a({alpha:n.alpha,beta:n.beta,gamma:n.gamma}),b=o(i,m),g=(r=b,u=180/Math.PI,l=s({x:0,y:1,z:0},r),h=0==l.x&&0==l.y?0:-Math.atan2(l.x,l.y),f=Math.atan2(l.z,Math.sqrt(l.x*l.x+l.y*l.y)),p={x:Math.cos(h),y:Math.sin(h),z:0},d={x:Math.sin(h)*Math.sin(f),y:-Math.cos(h)*Math.sin(f),z:Math.cos(f)},y=s({x:0,y:0,z:1},r),v=Math.atan2(c(y,p),c(y,d)),h<0&&(h+=2*Math.PI),v>=.5*Math.PI?(v-=Math.PI,h+=Math.PI,f=f>0?Math.PI-f:-Math.PI-f):v<-.5*Math.PI&&(v+=Math.PI,h+=Math.PI,f=f>0?Math.PI-f:-Math.PI-f),h>=2*Math.PI&&(h-=2*Math.PI),{alpha:h*u,beta:f*u,gamma:v*u});e.alpha=g.alpha,e.beta=g.beta,e.gamma=g.gamma,e.rawAlpha=n.alpha,e.rawBeta=n.beta,e.rawGamma=n.gamma},!0)},!0)),r})?i.call(t,n,t,e):i)||(e.exports=r)},
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(a).concat([r]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},
/*!********************************!*\
  !*** ./src/styles/imports.css ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! !../../node_modules/css-loader!./imports.css */3);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(/*! ../../node_modules/style-loader/lib/addStyles.js */6)(i,r);i.locals&&(e.exports=i.locals)},
/*!**********************************************************!*\
  !*** ./node_modules/css-loader!./src/styles/imports.css ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){(t=e.exports=n(/*! ../../node_modules/css-loader/lib/css-base.js */1)(!1)).i(n(/*! -!../../node_modules/css-loader!./fonts.css */4),""),t.i(n(/*! -!../../node_modules/css-loader!./main.css */5),""),t.push([e.i,"\r\n",""])},
/*!********************************************************!*\
  !*** ./node_modules/css-loader!./src/styles/fonts.css ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){(e.exports=n(/*! ../../node_modules/css-loader/lib/css-base.js */1)(!1)).push([e.i,'@font-face {\r\n  font-family: Montserrat;\r\n  src: url("/media/fonts/Montserrat-Regular.woff") format("woff");\r\n  font-weight: 400;\r\n  font-style: normal;\r\n}\r\n',""])},
/*!*******************************************************!*\
  !*** ./node_modules/css-loader!./src/styles/main.css ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){(e.exports=n(/*! ../../node_modules/css-loader/lib/css-base.js */1)(!1)).push([e.i,"* {\r\n  padding: 0;\r\n  margin: 0;\r\n  font-family: Montserrat;\r\n  font-size: 16px;\r\n}\r\n\r\ncanvas {\r\n  background: #eee;\r\n  display: block;\r\n  margin: 0 auto;\r\n}\r\n\r\n#results,\r\n#menu,\r\n#customize {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  background: #fff;\r\n}\r\n\r\n#results > table {\r\n  width: calc(100% - 20px);\r\n  max-width: 414px;\r\n  text-align: center;\r\n  border-spacing: 0;\r\n  padding: 10px;\r\n}\r\n\r\n#results > table > tr > td,\r\n#results > table > tr > th {\r\n  border-left: 1px solid #000;\r\n  border-bottom: 1px solid #000;\r\n  font-size: 24px;\r\n}\r\n\r\n#results > table > tr:first-child > th {\r\n  border-top: 1px solid #000;\r\n}\r\n\r\n#results > table > tr > td:last-child,\r\n#results > table > tr > th:last-child {\r\n  border-right: 1px solid #000;\r\n}\r\n\r\n.button {\r\n  padding: 2% 5%;\r\n  font-size: 20px;\r\n  color: #fff;\r\n  border: solid 1px #004f72;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  background-color: #3ba4c7;\r\n  outline: none;\r\n}\r\n\r\n.hidden {\r\n  display: none !important;\r\n}\r\n\r\n#menu {\r\n  justify-content: center;\r\n}\r\n\r\n#menu .button {\r\n  min-width: 36%;\r\n  margin-bottom: 5%;\r\n}\r\n.change-color select,\r\n.change-name input {\r\n  margin-left: 10px;\r\n}\r\n",""])},
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i,r,a={},o=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),c=null,u=0,l=[],h=n(/*! ./urls */7);function f(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=a[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(b(i.parts[o],t))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(b(i.parts[o],t));a[i.id]={id:i.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]})}return n}function d(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertAt.before,n);n.insertBefore(t,r)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return m(t,e.attrs),d(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,i,r,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=u++;n=c||(c=v(t)),i=x.bind(null,n,o,!1),r=x.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),d(e,t),t}(t),i=function(e,t,n){var i=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(i=h(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){y(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var o=n[r];(s=a[o.id]).refs--,i.push(s)}e&&f(p(e,t),t);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function x(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}},
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},
/*!**********************************!*\
  !*** ./src/main.js + 19 modules ***!
  \**********************************/
/*! no exports provided */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./src/modules/gyro.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers=[]}var t,n,r;return t=e,(n=[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter(function(t){return t!==e})}},{key:"broadcast",value:function(e){this.observers.forEach(function(t){return t(e)})}}])&&i(t.prototype,n),r&&i(t,r),e}(),a={},o=[];function s(e){if(a[e])return a[e];var t=new Image;t.onload=function(){a[e]=t,c()&&o.forEach(function(e){e.func.call(e.context)})},a[e]=!1,t.src=e}function c(){var e=!0;for(var t in a)a.hasOwnProperty(t)&&!a[t]&&(e=!1);return e}var u={load:function(e){e instanceof Array?e.forEach(function(e){s(e)}):s(e)},get:function(e){return a[e]},onReady:function(e,t){o.push({func:e,context:t})},isReady:c};function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var h=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.url=n,this.pos=i,this.size=r}var t,n,i;return t=e,(n=[{key:"draw",value:function(){this.ctx.drawImage(u.get(this.url),this.pos.x,this.pos.y,this.size.width,this.size.height)}}])&&l(t.prototype,n),i&&l(t,i),e}();function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(t,n,i,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.src=n,this.pos=i,this.size=r,this.speed=a,this.canvasSize=o,this.tiles=[],this.observer=Ee.get("SpeedObserver"),this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this,t=Math.ceil(this.canvasSize.height/this.size.height);this.calcAdditionalSpace(t);for(var n=-1;n<t;n++){var i=new h(this.ctx,this.src,{x:this.pos.x,y:n*this.size.height},this.size);this.tiles.push(i)}this.observer.subscribe(function(t){e.speed=t.speed})}},{key:"calcAdditionalSpace",value:function(e){this.additionalSpace=e*this.size.height-this.canvasSize.height}},{key:"draw",value:function(){var e=this;this.tiles.forEach(function(t){t.pos.y+=e.speed,t.draw(),t.pos.y>e.canvasSize.height&&(t.pos.y=t.pos.y-e.canvasSize.height-e.size.height-e.additionalSpace)})}}])&&f(t.prototype,n),i&&f(t,i),e}(),d={};function y(e,t){var n,i=e.keyCode;switch(i){case 32:n="SPACE";break;case 37:n="LEFT";break;case 38:n="UP";break;case 39:n="RIGHT";break;case 40:n="DOWN";break;default:n=String.fromCharCode(i)}d[n]=t}document.addEventListener("keydown",function(e){y(e,!0)}),document.addEventListener("keyup",function(e){y(e,!1)}),window.addEventListener("blur",function(){d={}});var v=function(e){return d[e.toUpperCase()]};function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var b=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.src=n,this.volume=i,this.loop=r,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.sound=document.createElement("audio"),this.sound.src=this.src,this.sound.volume=this.volume,this.sound.loop=this.loop,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",this.app.appendChild(this.sound)}},{key:"play",value:function(){this.sound.play()}},{key:"stop",value:function(){this.sound.pause()}}])&&m(t.prototype,n),i&&m(t,i),e}(),g=n(0),w=n.n(g);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(e,n,i,r,a,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=O(this,P(t).call(this,e,n,i,r))).ctx=e,s.url=n,s.pos=i,s.size=r,s.speed=a,s.zoneMoving=o,s.observer=Ee.get("SpeedObserver"),s.app=document.getElementById("app"),s.sxfZap=new b(s.app,"./media/sounds/sfx_zap.mp3",1),s.addGyroscopeControls(),s}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,h),n=t,(i=[{key:"checkGyroscope",value:function(){return w.a.getOrientation().beta&&w.a.getOrientation().gamma}},{key:"addGyroscopeControls",value:function(){var e=this;this.checkGyroscope()&&(w.a.frequency=20,w.a.startTracking(function(t){t.beta<20?e.moveUp():e.moveDown(),t.gamma<0?e.moveLeft():e.moveRight()}))}},{key:"draw",value:function(){S(P(t.prototype),"draw",this).call(this),this.handleInput()}},{key:"moveDown",value:function(){var e=(10*this.speed-1)/10;this.speed=e<=0?0:e,this.createBroadcastChangeSpeed(this.speed)}},{key:"moveUp",value:function(){10!=this.speed&&(this.speed=(10*this.speed+.5)/10),this.createBroadcastChangeSpeed(this.speed)}},{key:"moveLeft",value:function(){this.pos.x-3<this.zoneMoving.min?(this.pos.x=this.zoneMoving.min+5,this.stop()):this.pos.x-=3}},{key:"moveRight",value:function(){this.pos.x+3+this.size.width>this.zoneMoving.max?(this.pos.x=this.zoneMoving.max-this.size.width-5,this.stop()):this.pos.x+=3}},{key:"handleInput",value:function(){(v("DOWN")||v("s"))&&this.moveDown(),(v("UP")||v("w"))&&this.moveUp(),(v("LEFT")||v("a"))&&this.moveLeft(),(v("RIGHT")||v("d"))&&this.moveRight()}},{key:"stop",value:function(){this.speed>2?this.speed=(10*this.speed-20)/10:this.speed=0,this.sxfZap.play(),this.createBroadcastChangeSpeed(this.speed)}},{key:"fullStop",value:function(){this.speed=0,this.createBroadcastChangeSpeed(this.speed)}},{key:"createBroadcastChangeSpeed",value:function(e){this.observer.broadcast({speed:e})}}])&&k(n.prototype,i),r&&k(n,r),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function j(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e,n,i,r,a){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=j(this,R(t).call(this,e,n,i,r))).ctx=e,o.url=n,o.pos=i,o.size=r,o.speed=a,o.speedGame=0,o.observer=Ee.get("SpeedObserver"),o.observer.subscribe(function(e){o.speedGame=e.speed}),o}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,h),n=t,(i=[{key:"draw",value:function(){T(R(t.prototype),"draw",this).call(this),this.pos.y+=this.speedGame-this.speed.y,this.pos.x+=this.speed.x}}])&&C(n.prototype,i),r&&C(n,r),t}();var L={getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e))+e},getHours:function(e){return Math.floor(e/1e3/60/60)},getMinutes:function(e){return Math.floor(e/1e3/60)%60},getSeconds:function(e){return Math.floor(e/1e3)%60},formatTime:function(e){return e.toString().length<=1?"0"+e:e}};function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=[{path:"./media/images/enemy_type1.png",width:30,height:54}],D=function(){function e(t,n,i,r,a){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.speed=n,this.zone=i,this.scale=r,this.canvasSize=a,this.enemies=[],this.observer=Ee.get("SpeedObserver"),this.observer.subscribe(function(e){o.speed=e.speed}),this.generate()}var t,n,i;return t=e,(n=[{key:"generate",value:function(){this.enemies=[];for(var e=0;e<4;e++){var t=new _(this.ctx,A[0].path,this.getRandomPosition(e,A[0].width*this.scale),this.getEnemySize(A[0].width,A[0].height),{x:0,y:this.getRandomSpeed()});this.enemies.push(t)}}},{key:"getRandomPosition",value:function(e,t){var n=this.zone.min+e*this.getZoneForOneEnemy();return{x:L.getRandomInt(n,n+this.getZoneForOneEnemy()-t),y:L.getRandomInt(-100*this.scale,-500*this.scale)}}},{key:"getZoneForOneEnemy",value:function(){return(this.zone.max-this.zone.min)/4}},{key:"getEnemySize",value:function(e,t){return{width:e*this.scale,height:t*this.scale}}},{key:"getRandomSpeed",value:function(){return L.getRandomInt(1,8)}},{key:"setNewPositionAndSpeedForEnemy",value:function(e,t){e.pos=this.getRandomPosition(t,e.size.width),e.speed={x:0,y:this.getRandomSpeed()}}},{key:"draw",value:function(){var e=this;this.enemies.forEach(function(t,n){t.draw(),(t.pos.y<-500*e.scale||t.pos.y>e.canvasSize.height)&&e.setNewPositionAndSpeedForEnemy(t,n)})}}])&&B(t.prototype,n),i&&B(t,i),e}();function G(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var U=function(){function e(t,n,i,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.color=n,this.size=i,this.pos=r,this.scale=a,this.startTime=Date.now(),this.time=0,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.ctx.font="".concat(this.size*this.scale,"px Arial")}},{key:"calcTime",value:function(){var e=Date.now();this.time=e-this.startTime}},{key:"getFormatedTime",value:function(){return"".concat(L.formatTime(L.getMinutes(this.time)),":").concat(L.formatTime(L.getSeconds(this.time)))}},{key:"draw",value:function(){this.calcTime(),this.ctx.beginPath(),this.ctx.fillStyle=this.color,this.ctx.fillText(this.getFormatedTime(),this.pos.x*this.scale,this.pos.y*this.scale),this.ctx.closePath()}}])&&G(t.prototype,n),i&&G(t,i),e}();function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var N=40,q=300,H=20,J=200,Z=15,V=25,$=function(){function e(t,n,i,r,a){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.speed=i,this.scale=r,this.srcPlayerSprite=a,this.lastTime=Date.now(),this.distance=0,this.maxDistance=n,this.speedObserver=Ee.get("SpeedObserver"),this.speedObserver.subscribe(function(e){o.speed=e.speed}),this.createPlayerOnMap()}var t,n,i;return t=e,(n=[{key:"calcDistance",value:function(){var e=Date.now();if((e-this.lastTime)/1e3>1){this.lastTime=e;var t=(10*this.distance+10*this.speed)/10;t>this.maxDistance?this.distance=this.maxDistance:this.distance=t}}},{key:"drawMap",value:function(){this.ctx.beginPath(),this.ctx.rect(H*this.scale.x,J*this.scale.y,N*this.scale.x,q*this.scale.y),this.ctx.fillStyle="#fff",this.ctx.strokeStyle="#000",this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.drawLineStartOrFinish(!0),this.drawLineStartOrFinish(!1)}},{key:"drawLineStartOrFinish",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ctx.beginPath();var t=0;e?(this.ctx.strokeStyle="green",t=-V*this.scale.x+q*this.scale.y):(this.ctx.strokeStyle="red",t=V*this.scale.x),this.ctx.moveTo(H*this.scale.x,J*this.scale.y+t),this.ctx.lineTo(H*this.scale.x+N*this.scale.x,J*this.scale.y+t),this.ctx.stroke(),this.ctx.closePath()}},{key:"createPlayerOnMap",value:function(){this.mPlayer=new h(this.ctx,this.srcPlayerSprite,this.getPositionMPlayer(),{width:Z*this.scale.x,height:V*this.scale.x})}},{key:"getPositionMPlayer",value:function(){return{x:H*this.scale.x+N*this.scale.x/2-Z*this.scale.x/2,y:this.calcVerticalPositionMPlayer()}}},{key:"calcVerticalPositionMPlayer",value:function(){var e=J*this.scale.y,t=e+q*this.scale.y-V*this.scale.x;return t-(t-e)*(this.distance/this.maxDistance)}},{key:"upadateVerticalPostionMPlayer",value:function(){this.mPlayer.pos.y=this.calcVerticalPositionMPlayer()}},{key:"draw",value:function(){this.calcDistance(),this.drawMap(),this.mPlayer.draw(),this.upadateVerticalPostionMPlayer()}}])&&F(t.prototype,n),i&&F(t,i),e}();function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var W={name:"player",type:"black"},Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadData()}var t,n,i;return t=e,(n=[{key:"loadData",value:function(){this.data=JSON.parse(localStorage.getItem("playerInfo"))||W,this.data.type||(this.data.type=W.type),this.data.name||(this.data.name=W.name)}},{key:"saveData",value:function(){localStorage.setItem("playerInfo",JSON.stringify(this.data))}}])&&Y(t.prototype,n),i&&Y(t,i),e}();function K(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var X=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,u.load(["./media/images/bg.jpg","./media/images/player_black.png","./media/images/player_blue.png","./media/images/player_green.png","./media/images/player_orange.png","./media/images/player_yellow.png","./media/images/enemy_type1.png"]),u.onReady(this.init,this),this.defaultSize={width:414,height:736},this.speed=0,this.maxDistance=1e3,this.isGameEnd=!0}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.app.appendChild(this.canvas),this.setSizeCanvas(),this.calcScaleGame(),this.createBackground(),this.createEnemies(),this.createSound(),window.gameLoop()}},{key:"calcScaleGame",value:function(){this.scale=this.canvas.width/this.defaultSize.width,this.scaleY=this.canvas.height/this.defaultSize.height}},{key:"setSizeCanvas",value:function(){this.canvas.height=document.documentElement.clientHeight,this.canvas.width=this.canvas.height/this.defaultSize.height*this.defaultSize.width}},{key:"createBackground",value:function(){var e=83*this.scale;this.background=new p(this.ctx,"./media/images/bg.jpg",{x:0,y:0},{width:this.canvas.width,height:e},this.speed,{width:this.canvas.width,height:this.canvas.height})}},{key:"createPlayer",value:function(){this.player=new z(this.ctx,"./media/images/player_".concat(this.playerInfo.data.type,".png"),this.getPlayerPosition(30),this.getPlayerSize(30,50),this.speed,this.getZoneMoving())}},{key:"getPlayerPosition",value:function(e){return{x:this.canvas.width/2-e*this.scale/2,y:this.canvas.height/2+this.canvas.height/4}}},{key:"getPlayerSize",value:function(e,t){return{width:e*this.scale,height:t*this.scale}}},{key:"getZoneMoving",value:function(){return{min:97*this.scale,max:this.canvas.width-97*this.scale}}},{key:"createEnemies",value:function(){this.enemies=new D(this.ctx,this.speed,this.getZoneMoving(),this.scale,{width:this.canvas.width,height:this.canvas.height})}},{key:"collides",value:function(e,t,n,i,r,a,o,s){return!(n<=r||e>o||i<=a||t>s)}},{key:"boxCollides",value:function(e,t,n,i){return this.collides(e.x,e.y,e.x+t.width,e.y+t.height,n.x,n.y,n.x+i.width,n.y+i.height)}},{key:"checkCollisions",value:function(){var e=this;this.enemies.enemies.forEach(function(t,n){e.boxCollides(e.player.pos,e.player.size,t.pos,t.size)&&(e.sfxStop.play(),e.player.fullStop(),e.enemies.setNewPositionAndSpeedForEnemy(t,n))})}},{key:"createTime",value:function(){this.time=new U(this.ctx,"#fff",16,{x:20,y:30},this.scale)}},{key:"createMap",value:function(){this.map=new $(this.ctx,this.maxDistance,this.speed,{x:this.scale,y:this.scaleY},"./media/images/player_".concat(this.playerInfo.data.type,".png"))}},{key:"startGame",value:function(){this.playerInfo=new Q,this.enemies.generate(),this.isGameEnd=!1,this.createPlayer(),this.createTime(),this.createMap(),Ee.get("GameEndObserver").broadcast({isGameEnd:this.isGameEnd})}},{key:"saveResult",value:function(){var e=JSON.parse(localStorage.getItem("results"))||[];e.push([this.playerInfo.data.name,this.time.time]);var t=JSON.stringify(e);localStorage.setItem("results",t)}},{key:"gameOver",value:function(){this.saveResult(),w.a.stopTracking(),this.player.fullStop(),this.isGameEnd=!0,this.scenes=Ee.get("scenes"),this.scenes.results.draw()}},{key:"checkGameOver",value:function(){this.map.distance>=this.maxDistance&&this.gameOver()}},{key:"createSound",value:function(){this.music=new b(this.app,"./media/sounds/music.mp3",.02,!0),this.music.play(),this.sfxStop=new b(this.app,"./media/sounds/sfx_stop.mp3",1)}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.background.draw(),this.player.draw(),this.enemies.draw(),this.time.draw(),this.map.draw(),this.checkCollisions(),this.checkGameOver()}}])&&K(t.prototype,n),i&&K(t,i),e}();function ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var te=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.name=n,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.div=document.createElement("div"),this.div.id=this.name}},{key:"closeScene",value:function(){this.div.classList.add("hidden")}},{key:"createButtonBackToMenu",value:function(){var e=document.createElement("button");e.innerText="Menu",e.classList.add("button","back-to-menu"),this.handleClickBackToMenu(e),this.div.appendChild(e)}},{key:"handleClickBackToMenu",value:function(e){var t=this;e.addEventListener("click",function(){t.closeScene(),Ee.get("scenes").menu.showScene()})}},{key:"draw",value:function(){this.app.appendChild(this.div)}},{key:"clearContent",value:function(){this.div.innerHTML=""}},{key:"showScene",value:function(){this.div.classList.remove("hidden")}},{key:"div",get:function(){return this._div},set:function(e){this._div=e}}])&&ee(t.prototype,n),i&&ee(t,i),e}();function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function re(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e,t,n){return(ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=re(this,oe(t).call(this,e,"results"))).app=e,n.dataResults=[],n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,te),n=t,(i=[{key:"loadResults",value:function(){this.dataResults=JSON.parse(localStorage.getItem("results"))||[]}},{key:"sortDataResults",value:function(){this.dataResults=this.dataResults.sort(function(e,t){return e[1]-t[1]})}},{key:"createHeaderTable",value:function(e){var t=document.createElement("tr");["№","Name","Time"].forEach(function(e){var n=document.createElement("th");n.innerText=e,t.appendChild(n)}),e.appendChild(t)}},{key:"createTable",value:function(){this.sortDataResults();var e=document.createElement("table");this.dataResults.length>10&&(this.dataResults.length=10),this.createHeaderTable(e),this.dataResults.forEach(function(t,n){var i=document.createElement("tr"),r=t.slice();r.unshift(n+1),r.forEach(function(e,t){var n=document.createElement("td");n.innerText=2==t?"".concat(L.formatTime(L.getMinutes(e)),":").concat(L.formatTime(L.getSeconds(e))):e,i.appendChild(n)}),e.appendChild(i)}),ae(oe(t.prototype),"div",this).appendChild(e)}},{key:"draw",value:function(){ae(oe(t.prototype),"showScene",this).call(this),ae(oe(t.prototype),"clearContent",this).call(this),this.loadResults(),this.createTable(),ae(oe(t.prototype),"createButtonBackToMenu",this).call(this),ae(oe(t.prototype),"draw",this).call(this)}}])&&ie(n.prototype,i),r&&ie(n,r),t}();function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function he(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e,t,n){return(fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=[{id:"buttonPlay",name:"Play",scene:"game"},{id:"buttonCustomize",name:"Customize",scene:"customize"},{id:"buttonResults",name:"Results",scene:"results"}],ve=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=he(this,pe(t).call(this,e,"menu"))).app=e,n.cteateMenu(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,te),n=t,(i=[{key:"cteateMenu",value:function(){var e=this;ye.forEach(function(n){var i=document.createElement("button");i.innerText=n.name,i.id=n.id,i.classList.add("button"),e.handleClick(i,n),fe(pe(t.prototype),"div",e).appendChild(i)})}},{key:"handleClick",value:function(e,n){var i=this;e.addEventListener("click",function(){var e=Ee.get("scenes");fe(pe(t.prototype),"closeScene",i).call(i),"game"==n.scene?e[n.scene].startGame():e[n.scene].draw()})}},{key:"draw",value:function(){fe(pe(t.prototype),"draw",this).call(this),fe(pe(t.prototype),"showScene",this).call(this)}}])&&le(n.prototype,i),r&&le(n,r),t}();function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t,n){return(xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=[{name:"Black",id:"black"},{name:"Blue",id:"blue"},{name:"Yellow",id:"yellow"},{name:"Orange",id:"orange"},{name:"Green",id:"green"}],Se=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=ke(t).call(this,e,"customize"))||"object"!==me(r)&&"function"!=typeof r?ge(i):r).app=e,n.playerInfo=new Q,n.cteateCustomize(),n.createBlockChangeColor(),xe(ke(t.prototype),"createButtonBackToMenu",ge(n)).call(ge(n)),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,te),n=t,(i=[{key:"cteateCustomize",value:function(){this.createBlockChangeName()}},{key:"createBlockChangeName",value:function(){var e=document.createElement("div"),n=document.createElement("label"),i=document.createElement("input"),r=document.createElement("span");e.classList.add("change-name"),i.type="text",i.value=this.playerInfo.data.name,this.handleChangeName(i),r.innerText="Name",n.appendChild(r),n.appendChild(i),e.appendChild(n),xe(ke(t.prototype),"div",this).appendChild(e)}},{key:"handleChangeName",value:function(e){var t=this;e.addEventListener("input",function(e){t.playerInfo.data.name=e.target.value,t.playerInfo.saveData()})}},{key:"createBlockChangeColor",value:function(){var e=this,n=document.createElement("div"),i=document.createElement("span"),r=document.createElement("select");n.classList.add("change-color"),Oe.forEach(function(t){var n=document.createElement("option");n.innerText=t.name,n.value=t.id,e.playerInfo.data.type==t.id&&(n.selected=!0),r.appendChild(n)}),this.handleChangeColor(r),i.innerText="Color car",n.appendChild(i),n.appendChild(r),xe(ke(t.prototype),"div",this).appendChild(n)}},{key:"handleChangeColor",value:function(e){var t=this;e.addEventListener("change",function(e){t.playerInfo.data.type=e.target.value,t.playerInfo.saveData()})}},{key:"draw",value:function(){xe(ke(t.prototype),"draw",this).call(this),xe(ke(t.prototype),"showScene",this).call(this)}}])&&be(n.prototype,i),r&&be(n,r),t}();function Pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"get",value:function(t){return e.list[t]}}],(n=null)&&Pe(t.prototype,n),i&&Pe(t,i),e}(),ze=document.getElementById("app");Ee.list={SpeedObserver:new r,GameEndObserver:new r,scenes:{game:new X(ze),results:new ce(ze),menu:new ve(ze),customize:new Se(ze)}};n(2);window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var Me=Ee.get("scenes");Ee.get("GameEndObserver").subscribe(function(){window.gameLoop()}),Me.menu.draw(),window.gameLoop=function(){Me.game.isGameEnd||(requestAnimFrame(gameLoop),Me.game.draw())}}]);